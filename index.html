<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programming Quiz</title>
    <style>
        body {
            background-color: #1e1e1e;
            color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            font-family: 'Courier New', monospace;
            overflow-y: auto;
            padding: 20px;
        }
        button {
            background-color: #007acc;
            color: white;
            border: none;
            padding: 12px 24px;  
            margin: 12px;
            cursor: pointer;
            font-size: 18px;  
            border-radius: 8px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #005f99;
        }
        button.selected {
            background-color: #005f99;
        }
        button#finish-btn {
            background-color: #ff4500;
            font-size: 20px;
            padding: 20px 40px;  
            border-radius: 10px;
            margin-top: 30px;
        }
        #image, #questionnaire, #end-screen {
            display: none;
        }
        #questionnaire {
            max-width: 800px;  
            max-height: 600px;  
            text-align: left;
            overflow-y: auto;
            margin: 30px;
            padding: 20px;
            border: 2px solid #333;
            border-radius: 12px;
            background-color: #2c2c2c;
        }
        div {
            margin: 15px 0;
        }
        .question-container {
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <button id="start-btn">Start Quiz</button>
    <img id="image" src="https://via.placeholder.com/400" alt="Programming Quiz Image">
    <button id="end-btn" style="display:none;">End Viewing</button>
    
    <div id="questionnaire"></div>
    <div id="end-screen"></div>

    <script>
        let startTime, endTime, viewTime;
        let testStartTime, testEndTime, testDuration;
        let score = 0;
        let selectedAnswers = [];
        let easyScore = 0, mediumScore = 0, hardScore = 0;
        
        const questions = [
            { q: "What does the ind() function do?", options: ["Add A and B", "Hyper Text Markup Language", "High Text Machine Learning", "Home Tool Markup Language"], answer: "Hyper Text Markup Language", difficulty: "easy" },
            { q: "Which language is used for styling web pages?", options: ["HTML", "JQuery", "CSS", "XML"], answer: "CSS", difficulty: "easy" },
            { q: "What does CSS stand for?", options: ["Cascading Style Sheets", "Creative Style System", "Computer Style Sheets", "Coded System Style"], answer: "Cascading Style Sheets", difficulty: "easy" },
            { q: "Which JavaScript framework is developed by Facebook?", options: ["Angular", "Vue", "React", "Svelte"], answer: "React", difficulty: "medium" },
            { q: "What is the main function of JavaScript?", options: ["Styling", "Markup", "Programming Logic", "Database Management"], answer: "Programming Logic", difficulty: "medium" },
            { q: "Which keyword is used to declare a constant variable in JavaScript?", options: ["var", "let", "const", "static"], answer: "const", difficulty: "medium" },
            { q: "What is the default behavior of the `flex-direction` property in CSS Flexbox?", options: ["row", "column", "row-reverse", "column-reverse"], answer: "row", difficulty: "hard" },
            { q: "Which of the following is a version control system?", options: ["Docker", "Git", "Node.js", "Webpack"], answer: "Git", difficulty: "hard" },
            { q: "Which programming language is known as the 'mother of all languages'?", options: ["C", "Python", "Java", "Assembly"], answer: "C", difficulty: "hard" }
        ];

        document.getElementById("start-btn").addEventListener("click", function() {
            startTime = Date.now();
            this.style.display = "none";
            document.getElementById("image").style.display = "block";
            document.getElementById("end-btn").style.display = "block";
        });
        
        document.getElementById("end-btn").addEventListener("click", function() {
            endTime = Date.now();
            viewTime = ((endTime - startTime) / 1000).toFixed(2);
            testStartTime = Date.now(); 
            document.getElementById("image").style.display = "none";
            this.style.display = "none";
            showQuestions();
        });
        
        function showQuestions() {
            const quizContainer = document.getElementById("questionnaire");
            quizContainer.innerHTML = "<h2>Answer the Questions:</h2>";
            quizContainer.style.display = "block";

            questions.forEach((question, index) => {
                let div = document.createElement("div");
                div.classList.add("question-container");
                div.innerHTML = `<p>${index + 1}. ${question.q}</p>`;

                question.options.forEach(option => {
                    let btn = document.createElement("button");
                    btn.textContent = option;
                    btn.onclick = function() {
                        div.querySelectorAll('button').forEach(b => b.classList.remove('selected'));
                        btn.classList.add('selected');
                        selectedAnswers[index] = option;
                    };
                    div.appendChild(btn);
                });
                quizContainer.appendChild(div);
            });

            let finishBtn = document.createElement("button");
            finishBtn.textContent = "Turn In Quiz";
            finishBtn.id = "finish-btn";
            finishBtn.onclick = showResults;
            quizContainer.appendChild(finishBtn);
        }

        function showResults() {
            testEndTime = Date.now();
            testDuration = ((testEndTime - testStartTime) / 1000).toFixed(2);
            
            questions.forEach((question, index) => {
                if (selectedAnswers[index] === question.answer) {
                    score++;
                    if (question.difficulty === "easy") easyScore++;
                    if (question.difficulty === "medium") mediumScore++;
                    if (question.difficulty === "hard") hardScore++;
                }
            });

            document.getElementById("questionnaire").style.display = "none";
            const resultContainer = document.getElementById("end-screen");
            resultContainer.innerHTML = `<h2>Quiz Complete</h2>
                                         <p>Time Viewing Image: ${viewTime} seconds</p>
                                         <p>Time Spent on Quiz: ${testDuration} seconds</p>
                                         <p>Total Score: ${score} / ${questions.length}</p>
                                         <p>Easy Score: ${easyScore} / 3</p>
                                         <p>Medium Score: ${mediumScore} / 3</p>
                                         <p>Hard Score: ${hardScore} / 3</p>`;
            resultContainer.style.display = "block";
        }
    </script>
</body>
</html>
